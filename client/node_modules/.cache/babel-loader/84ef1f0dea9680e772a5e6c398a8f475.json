{"ast":null,"code":"import _defineProperty from\"D:/myproject/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _slicedToArray from\"D:/myproject/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';// import Clock from 'react-live-clock';\nimport logo from'../images/logo.jpg';import{Nav,Navbar,Button,Form}from'react-bootstrap';import'../../components/Navbar/Navbar.css';import Avatar from'react-avatar';import Auth from'../Auth/Auth';import Events from'../Events';import Home from'../Home/Home';import{useDispatch}from'react-redux';import{useHistory,useLocation}from'react-router-dom';import decode from'jwt-decode';import'../Navbar/Navbar.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Navbars=function Navbars(){// const location = useLocation();\nvar _useState=useState(JSON.parse(localStorage.getItem('profile'))),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];console.log(user);var dispatch=useDispatch();var history=useHistory();var location=useLocation();var logout=function logout(){dispatch({type:'LOGOUT'});history.push('/');setUser(null);};useEffect(function(){var token=user===null||user===void 0?void 0:user.token;if(token){var decodedToken=decode(token);if(decodedToken.exp*1000<new Date().getTime())logout();}setUser(JSON.parse(localStorage.getItem('profile')));},[location]);return/*#__PURE__*/_jsxs(Navbar,{className:\"nav-style\",position:\"static\",expand:\"lg\",bg:\"light\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"left-buttons\",children:[/*#__PURE__*/_jsxs(Navbar.Brand,{href:\"#home\",children:[/*#__PURE__*/_jsx(\"img\",{alt:\"\",src:logo,width:\"50\",height:\"50\",className:\"d-inline-block align-top\"}),' ']}),/*#__PURE__*/_jsx(Button,{type:\"primary\",href:\"/\",onClick:Home,children:\"Telugu Association\"}),\" \\xA0 \\xA0\",/*#__PURE__*/_jsx(Button,{type:\"primary\",href:\"/events\",onClick:Events,children:\"Create Event\"}),\" \\xA0\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"right-buttons\",children:/*#__PURE__*/_jsx(Nav,{children:user?/*#__PURE__*/_jsxs(Form,{inline:true,className:\"profile\",children:[/*#__PURE__*/_jsx(Avatar,_defineProperty({className:\"avatar\",size:\"40\",round:true,alt:user.result.name,src:user.result.imageUrl},\"alt\",user.result.name.charAt(0))),/*#__PURE__*/_jsxs(\"span\",{className:\"username\",children:[\" \",user.result.name.toUpperCase(),\" \"]}),/*#__PURE__*/_jsx(Button,{className:\"logout\",variant:\"danger\",onClick:logout,children:\"Logout\"})]}):/*#__PURE__*/_jsx(Button,{type:\"primary\",href:\"/auth\",onClick:Auth,children:\"Sign In\"})})})]});};export default Navbars;","map":{"version":3,"sources":["D:/myproject/client/src/components/Navbar/Navbar.js"],"names":["React","useEffect","useState","logo","Nav","Navbar","Button","Form","Avatar","Auth","Events","Home","useDispatch","useHistory","useLocation","decode","Navbars","JSON","parse","localStorage","getItem","user","setUser","console","log","dispatch","history","location","logout","type","push","token","decodedToken","exp","Date","getTime","result","name","imageUrl","charAt","toUpperCase"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\n// import Clock from 'react-live-clock';\r\nimport logo from '../images/logo.jpg';\r\nimport { Nav, Navbar, Button, Form } from 'react-bootstrap';\r\nimport '../../components/Navbar/Navbar.css';\r\nimport Avatar from 'react-avatar';\r\nimport Auth from '../Auth/Auth';\r\nimport Events from '../Events';\r\nimport Home from '../Home/Home';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useHistory, useLocation } from 'react-router-dom';\r\nimport decode from 'jwt-decode';\r\nimport '../Navbar/Navbar.css';\r\nconst Navbars = () => {\r\n    // const location = useLocation();\r\n    const [user, setUser] = useState(JSON.parse(localStorage.getItem('profile')));\r\n    console.log(user);\r\n\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n    const location = useLocation();\r\n\r\n    const logout = () => {\r\n        dispatch({ type: 'LOGOUT' });\r\n        history.push('/');\r\n        setUser(null);\r\n    };\r\n\r\n    useEffect(() => {\r\n        const token = user?.token;\r\n        if (token) {\r\n            const decodedToken = decode(token);\r\n            if (decodedToken.exp * 1000 < new Date().getTime()) logout();\r\n        }\r\n        setUser(JSON.parse(localStorage.getItem('profile')));\r\n    }, [location]);\r\n\r\n\r\n\r\n\r\n    return (\r\n        <Navbar className=\"nav-style\" position=\"static\" expand=\"lg\" bg=\"light\">\r\n            <div className=\"left-buttons\">\r\n                <Navbar.Brand href=\"#home\">\r\n                    <img\r\n                        alt=\"\"\r\n                        src={logo}\r\n                        width=\"50\"\r\n                        height=\"50\"\r\n                        className=\"d-inline-block align-top\"\r\n                    />{' '}\r\n                </Navbar.Brand>\r\n                <Button type=\"primary\" href='/' onClick={Home}>Telugu Association</Button> &nbsp; &nbsp;\r\n            <Button type=\"primary\" href='/events' onClick={Events}>Create Event</Button> &nbsp;\r\n            </div>\r\n            <div className=\"right-buttons\">\r\n                <Nav>\r\n                    {user ? (\r\n                        <Form inline className=\"profile\">\r\n                            <Avatar className=\"avatar\" size=\"40\" round={true} alt={user.result.name} src={user.result.imageUrl} alt={user.result.name.charAt(0)} />\r\n                            <span className=\"username\"> {user.result.name.toUpperCase()} </span>\r\n                            <Button className=\"logout\" variant=\"danger\" onClick={logout} >Logout</Button>\r\n\r\n                        </Form>\r\n                    ) : (\r\n                        <Button type=\"primary\" href='/auth' onClick={Auth}>Sign In</Button>\r\n                    )}\r\n                </Nav>\r\n            </div>\r\n        </Navbar>\r\n    )\r\n}\r\n\r\nexport default Navbars\r\n"]},"metadata":{},"sourceType":"module"}