{"ast":null,"code":"var _jsxFileName = \"D:\\\\myproject\\\\client\\\\src\\\\components\\\\Navbar\\\\Navbar.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react'; // import Clock from 'react-live-clock';\n\nimport logo from '../images/logo.jpg';\nimport { Nav, Navbar, Button, Form } from 'react-bootstrap';\nimport '../../components/Navbar/Navbar.css';\nimport Avatar from 'react-avatar';\nimport Auth from '../Auth/Auth';\nimport Events from '../Events';\nimport Home from '../Home/Home';\nimport { useDispatch } from 'react-redux';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport decode from 'jwt-decode';\nimport '../Navbar/Navbar.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Navbars = () => {\n  _s();\n\n  // const location = useLocation();\n  const [user, setUser] = useState(JSON.parse(localStorage.getItem('profile')));\n  console.log(user);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const location = useLocation();\n\n  const logout = () => {\n    dispatch({\n      type: 'LOGOUT'\n    });\n    history.push('/');\n    setUser(null);\n  };\n\n  useEffect(() => {\n    const token = user === null || user === void 0 ? void 0 : user.token;\n\n    if (token) {\n      const decodedToken = decode(token);\n      if (decodedToken.exp * 1000 < new Date().getTime()) logout();\n    }\n\n    setUser(JSON.parse(localStorage.getItem('profile')));\n  }, [location]);\n  return /*#__PURE__*/_jsxDEV(Navbar, {\n    className: \"nav-style\",\n    position: \"static\",\n    expand: \"lg\",\n    bg: \"light\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"left-buttons\",\n      children: [/*#__PURE__*/_jsxDEV(Navbar.Brand, {\n        href: \"#home\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          alt: \"\",\n          src: logo,\n          width: \"50\",\n          height: \"50\",\n          className: \"d-inline-block align-top\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 21\n        }, this), ' ']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"primary\",\n        href: \"/\",\n        onClick: Home,\n        children: \"Telugu Association\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this), \" \\xA0 \\xA0\", /*#__PURE__*/_jsxDEV(Button, {\n        type: \"primary\",\n        href: \"/events\",\n        onClick: Events,\n        children: \"Create Event\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }, this), \" \\xA0\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"right-buttons\",\n      children: /*#__PURE__*/_jsxDEV(Nav, {\n        children: user ? /*#__PURE__*/_jsxDEV(Form, {\n          inline: true,\n          className: \"profile\",\n          children: [/*#__PURE__*/_jsxDEV(Avatar, {\n            className: \"avatar\",\n            size: \"40\",\n            round: true,\n            alt: user.result.name,\n            src: user.result.imageUrl,\n            alt: user.result.name.charAt(0)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"username\",\n            children: [\" \", user.result.name.toUpperCase(), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            className: \"logout\",\n            variant: \"danger\",\n            onClick: logout,\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(Button, {\n          type: \"primary\",\n          href: \"/auth\",\n          onClick: Auth,\n          children: \"Sign In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Navbars, \"RawN34g8bEkTvqx120da3zScFts=\", false, function () {\n  return [useDispatch, useHistory, useLocation];\n});\n\n_c = Navbars;\nexport default Navbars;\n\nvar _c;\n\n$RefreshReg$(_c, \"Navbars\");","map":{"version":3,"sources":["D:/myproject/client/src/components/Navbar/Navbar.js"],"names":["React","useEffect","useState","logo","Nav","Navbar","Button","Form","Avatar","Auth","Events","Home","useDispatch","useHistory","useLocation","decode","Navbars","user","setUser","JSON","parse","localStorage","getItem","console","log","dispatch","history","location","logout","type","push","token","decodedToken","exp","Date","getTime","result","name","imageUrl","charAt","toUpperCase"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\n// import Clock from 'react-live-clock';\r\nimport logo from '../images/logo.jpg';\r\nimport { Nav, Navbar, Button, Form } from 'react-bootstrap';\r\nimport '../../components/Navbar/Navbar.css';\r\nimport Avatar from 'react-avatar';\r\nimport Auth from '../Auth/Auth';\r\nimport Events from '../Events';\r\nimport Home from '../Home/Home';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useHistory, useLocation } from 'react-router-dom';\r\nimport decode from 'jwt-decode';\r\nimport '../Navbar/Navbar.css';\r\nconst Navbars = () => {\r\n    // const location = useLocation();\r\n    const [user, setUser] = useState(JSON.parse(localStorage.getItem('profile')));\r\n    console.log(user);\r\n\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n    const location = useLocation();\r\n\r\n    const logout = () => {\r\n        dispatch({ type: 'LOGOUT' });\r\n        history.push('/');\r\n        setUser(null);\r\n    };\r\n\r\n    useEffect(() => {\r\n        const token = user?.token;\r\n        if (token) {\r\n            const decodedToken = decode(token);\r\n            if (decodedToken.exp * 1000 < new Date().getTime()) logout();\r\n        }\r\n        setUser(JSON.parse(localStorage.getItem('profile')));\r\n    }, [location]);\r\n\r\n\r\n\r\n\r\n    return (\r\n        <Navbar className=\"nav-style\" position=\"static\" expand=\"lg\" bg=\"light\">\r\n            <div className=\"left-buttons\">\r\n                <Navbar.Brand href=\"#home\">\r\n                    <img\r\n                        alt=\"\"\r\n                        src={logo}\r\n                        width=\"50\"\r\n                        height=\"50\"\r\n                        className=\"d-inline-block align-top\"\r\n                    />{' '}\r\n                </Navbar.Brand>\r\n                <Button type=\"primary\" href='/' onClick={Home}>Telugu Association</Button> &nbsp; &nbsp;\r\n            <Button type=\"primary\" href='/events' onClick={Events}>Create Event</Button> &nbsp;\r\n            </div>\r\n            <div className=\"right-buttons\">\r\n                <Nav>\r\n                    {user ? (\r\n                        <Form inline className=\"profile\">\r\n                            <Avatar className=\"avatar\" size=\"40\" round={true} alt={user.result.name} src={user.result.imageUrl} alt={user.result.name.charAt(0)} />\r\n                            <span className=\"username\"> {user.result.name.toUpperCase()} </span>\r\n                            <Button className=\"logout\" variant=\"danger\" onClick={logout} >Logout</Button>\r\n\r\n                        </Form>\r\n                    ) : (\r\n                        <Button type=\"primary\" href='/auth' onClick={Auth}>Sign In</Button>\r\n                    )}\r\n                </Nav>\r\n            </div>\r\n        </Navbar>\r\n    )\r\n}\r\n\r\nexport default Navbars\r\n"]},"metadata":{},"sourceType":"module"}