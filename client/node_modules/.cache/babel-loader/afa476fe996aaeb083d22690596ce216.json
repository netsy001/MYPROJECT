{"ast":null,"code":"import _regeneratorRuntime from\"D:/myproject/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/myproject/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import*as api from'../api';// creating action : action creators are functions that return actions\nexport var getPosts=function getPosts(){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var _yield$api$fetchPosts,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;console.log('hello');_context.next=4;return api.fetchPosts();case 4:_yield$api$fetchPosts=_context.sent;data=_yield$api$fetchPosts.data;//action is an object which takes in two parameters type, payload\ndispatch({type:'FETCH_ALL',payload:data});_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);console.log(_context.t0.message);case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var createPost=function createPost(post){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var _yield$api$createPost,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return api.createPost(post);case 3:_yield$api$createPost=_context2.sent;data=_yield$api$createPost.data;dispatch({type:'CREATE',payload:data});_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0.message);case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[0,8]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var updatePost=function updatePost(id,post){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){var _yield$api$updatePost,data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return api.updatePost(id,post);case 3:_yield$api$updatePost=_context3.sent;data=_yield$api$updatePost.data;dispatch({type:'UPDATE',payload:data});_context3.next=11;break;case 8:_context3.prev=8;_context3.t0=_context3[\"catch\"](0);console.log(_context3.t0.message);case 11:case\"end\":return _context3.stop();}}},_callee3,null,[[0,8]]);}));return function(_x3){return _ref3.apply(this,arguments);};}();};export var deletePost=function deletePost(id){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return api.deletePost(id);case 3:dispatch({type:'DELETE',payload:id});_context4.next=9;break;case 6:_context4.prev=6;_context4.t0=_context4[\"catch\"](0);console.log(_context4.t0);case 9:case\"end\":return _context4.stop();}}},_callee4,null,[[0,6]]);}));return function(_x4){return _ref4.apply(this,arguments);};}();};","map":{"version":3,"sources":["D:/myproject/client/src/actions/posts.js"],"names":["api","getPosts","dispatch","console","log","fetchPosts","data","type","payload","message","createPost","post","updatePost","id","deletePost"],"mappings":"iRAAA,MAAO,GAAKA,CAAAA,GAAZ,KAAqB,QAArB,CAEA;AAEA,MAAO,IAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,kGAAM,iBAAOC,QAAP,iKAGtBC,OAAO,CAACC,GAAR,CAAY,OAAZ,EAHsB,sBAICJ,CAAAA,GAAG,CAACK,UAAJ,EAJD,4CAIdC,IAJc,uBAIdA,IAJc,CAKtB;AACAJ,QAAQ,CAAC,CAAEK,IAAI,CAAE,WAAR,CAAqBC,OAAO,CAAEF,IAA9B,CAAD,CAAR,CANsB,+EAStBH,OAAO,CAACC,GAAR,CAAY,YAAMK,OAAlB,EATsB,oEAAN,gEAAjB,CAcP,MAAO,IAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,IAAD,kGAAU,kBAAOT,QAAP,6LAELF,CAAAA,GAAG,CAACU,UAAJ,CAAeC,IAAf,CAFK,6CAEpBL,IAFoB,uBAEpBA,IAFoB,CAI5BJ,QAAQ,CAAC,CAAEK,IAAI,CAAE,QAAR,CAAkBC,OAAO,CAAEF,IAA3B,CAAD,CAAR,CAJ4B,mFAM5BH,OAAO,CAACC,GAAR,CAAY,aAAMK,OAAlB,EAN4B,sEAAV,kEAAnB,CAWP,MAAO,IAAMG,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,EAAD,CAAKF,IAAL,kGAAc,kBAAOT,QAAP,6LAETF,CAAAA,GAAG,CAACY,UAAJ,CAAeC,EAAf,CAAmBF,IAAnB,CAFS,6CAExBL,IAFwB,uBAExBA,IAFwB,CAIhCJ,QAAQ,CAAC,CAAEK,IAAI,CAAE,QAAR,CAAkBC,OAAO,CAAEF,IAA3B,CAAD,CAAR,CAJgC,mFAMhCH,OAAO,CAACC,GAAR,CAAY,aAAMK,OAAlB,EANgC,sEAAd,kEAAnB,CAYP,MAAO,IAAMK,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACD,EAAD,kGAAQ,kBAAOX,QAAP,8JAEpBF,CAAAA,GAAG,CAACc,UAAJ,CAAeD,EAAf,CAFoB,QAI1BX,QAAQ,CAAC,CAAEK,IAAI,CAAE,QAAR,CAAkBC,OAAO,CAAEK,EAA3B,CAAD,CAAR,CAJ0B,kFAM1BV,OAAO,CAACC,GAAR,eAN0B,qEAAR,kEAAnB","sourcesContent":["import * as api from '../api';\r\n\r\n// creating action : action creators are functions that return actions\r\n\r\nexport const getPosts = () => async (dispatch) => {\r\n\r\n    try {\r\n        console.log('hello');\r\n        const { data } = await api.fetchPosts();\r\n        //action is an object which takes in two parameters type, payload\r\n        dispatch({ type: 'FETCH_ALL', payload: data });\r\n\r\n    } catch (error) {\r\n        console.log(error.message);\r\n    }\r\n}\r\n\r\n\r\nexport const createPost = (post) => async (dispatch) => {\r\n    try {\r\n        const { data } = await api.createPost(post);\r\n\r\n        dispatch({ type: 'CREATE', payload: data });\r\n    } catch (error) {\r\n        console.log(error.message)\r\n    }\r\n}\r\n\r\n\r\nexport const updatePost = (id, post) => async (dispatch) => {\r\n    try {\r\n        const { data } = await api.updatePost(id, post);\r\n        \r\n        dispatch({ type: 'UPDATE', payload: data });\r\n    } catch (error) {\r\n        console.log(error.message);\r\n    }\r\n}\r\n\r\n\r\n\r\nexport const deletePost = (id) => async (dispatch) => {\r\n    try {\r\n        await api.deletePost(id);\r\n        \r\n        dispatch({ type: 'DELETE', payload: id });\r\n    } catch (error) {\r\n        console.log(error);\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}